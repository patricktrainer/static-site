
    <!DOCTYPE html>
    <html>
        <head>
            <meta charset="utf-8">
            <meta name="viewport" content="width=device-width">
            <title>How to set up a custom domain for your homepage in 47cee0c6913d45208fddd68a3cf998dd</title>
            
            
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/open-fonts@1.1.1/fonts/inter.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@exampledev/new.css@1.1.2/new.min.css">
    <link rel="stylesheet" href="https://unpkg.com/github-syntax-dark@latest/lib/github-dark.css"/>
    
        </head>
        <body>
            <header>
                <nav>
                    <a href="https://patricktrainer.github.io/static-site">Home</a> /
                    <a href="https://github.com/patricktrainer">GitHub</a> / 
                </nav>
            </header>
            <h1>How to set up a custom domain for your homepage in Notion</h1>
<p>Created: Jan 29, 2020 9:01 AM
Tags: How To
URL: https://medium.com/@TarasPyoneer/how-to-set-up-a-custom-domain-for-your-homepage-in-notion-53fa3d54f848</p>
<p><img alt="1*gUv54okx1TF2BDd2rV3kmw.png" src="How%20to%20set%20up%20a%20custom%20domain%20for%20your%20homepage%20in%2047cee0c6913d45208fddd68a3cf998dd/1gUv54okx1TF2BDd2rV3kmw.png" /></p>
<p>I love Notion. I use it for almost anything from planning my workouts to maintaining reading and movie lists with ratings. Even though Notion claims to be a great tool for taking notes, I think it is more of a private space or personal homepage. Being a member of the Notion Community on Facebook, it looks like that a lot of other people feel the same way. There you see people sharing some of their great takes on homepages and other things. I designed my homepage in Notion using some of the ideas from the group. I felt it would be cool to create my portfolio in Notion and connect it to my custom domain. Notion itself does not provide this function yet, according to their twitter we might see it someday:</p>
<p>Luckily I have found this <a href="https://gist.github.com/mayneyao/b9fefc9625b76f70488e5d8c2a99315d">gist</a> from <a href="https://gist.github.com/mayneyao">mayneyao</a>. Even though I am a software engineer myself, I found it a bit hard to follow the instructions. Even though it worked out in the end, I thought that it might be quite difficult for someone else without a technical background. And this is why I decided to create a step by step guide on how to set up custom domains for Notion.</p>
<p>To follow this tutorial, you will need:</p>
<ul>
<li>Custom domain and access to the DNS settings * Page in Notion that should be your landing page * Account on <a href="https://www.cloudflare.com/">CloudFlare</a></li>
</ul>
<p>Let’s start with the page itself. It does not matter which page you use, but it should be a public page. Enable the option of <strong>Public Access</strong>. If preferred, the switch <strong>Allow Search Engines</strong> can be enabled as well. Once you are finished, click on <strong>Copy Page Link</strong> and save the link for later use.</p>
<p>As far as I know, CloudFlare is used as a <a href="https://en.wikipedia.org/wiki/Content_delivery_network">CDN</a> most of the times. It provides handy tools to deliver assets and it can also protect your page when it is under attack, like DDoS. In general, it grants you more control over your website or app. For our use case, we will make use of the <strong>Workers</strong> feature that will forward incoming requests from users to the public Notion page that we have created earlier. Let’s begin then.</p>
<p>First, you have to register on their <a href="https://www.cloudflare.com/">website</a>. Once registration is complete, add your domain by clicking on <strong>Add site</strong> at the top right. When it asks you to choose a plan, select the <strong>Free</strong> plan. After scrolling down, you should see this form:</p>
<p>Here, copy both fields <strong>Nameserver 1</strong> and <strong>Nameserver 2</strong> * <em>dom.ns.cloudflare.com</em> * <em>reza.ns.cloudflare.com</em></p>
<blockquote>
<p>Make sure you copy the nameservers provided by CloudFlare, since they might differ!</p>
</blockquote>
<p>For this post, I have purchased a cheap <em>.xyz</em> domain from <em>Namecheap</em>, but this provider is not mandatory. You can use any provider. Head to the settings to change the default nameservers. They are in the <strong>DNS</strong> settings of your domain provider. All you need to do here is to paste both nameservers that you have copied in <em>Step 2</em>. In this example using Namecheap, simply change the <strong>Default DNS</strong> select-box to <strong>Custom DNS</strong> and paste the nameservers one in each input field. Don’t forget to save the changes as well. From here, it might take a while for the changes to take place (in some cases up to 24 hours).</p>
<p>From here it becomes a little more tech-savvy. In this step, we will enter some code. Don’t worry, we will just <strong>copy + paste</strong> some code block and only make changes in two lines there. For the request to be forwarded to our Notion page, we need a proxy using a worker in CloudFlare. Head over to the <strong>Workers</strong> menu at the top and click on <strong>Launch</strong> <strong>Editor</strong>.</p>
<p>Then, click on <strong>Add Scrip</strong>t and name it something like <em>custom-domain-proxy</em>. On the left side of the editor, enter the following block of code:</p>
<p>You can leave most of the code as it is, except for the top 2 lines. Modify them using your domain in <em>your domain</em> and public Notion page in <em>start page url</em>. In my case, they look like this:<em>const MY_DOMAIN = “custom-domain.xyz”const START_PAGE = “<a href="https://www.notion.so/tarassampleworkspace/Custom-Domain-xyz-a42e4c7466224475b7b15ee9cd41c317">https://www.notion.so/tarassampleworkspace/Custom-Domain-xyz-a42e4c7466224475b7b15ee9cd41c317</a>"</em>.</p>
<p>Click on <strong>Save</strong> and ignore the <strong>Missing Route</strong> warning for now if one pops up. The hard part is now finished and only one final step is missing, the routing. After saving, head back to the workers’ page.</p>
<p>In the final step, we need to tell the worker for which route(s) or URL the script should run. Just like before, instead of clicking on <strong>Launch Editor</strong>, click on <strong>Add route</strong> this time.</p>
<p>Here we set a rule for which routes the script should run. Simply set the route to <em>YOUR_DOMAIN/</em><em>. In this example, it’s </em>custom-domain.xyz/<em><em>. Then, select the script </em>custom-domain-proxy</em> which we saved in the previous step. The only thing we need to do now is to save the route and wait. This might take a few minutes or even hours to work. Just grab a cup of tea and come back later to see this success message in your Dashboard.</p>
<p>If everything went smoothly and the * Notion page is set to public * the nameservers on your domain provider were changed * CloufFlare successfully verified your domain</p>
<p>You should be able to see your public Notion page after entering your domain in the URL of your browser:</p>
<p>Each use-case is different. In my case, I just wanted to have my portfolio I had already created in Notion published. Whenever I make changes to it, it will immediately be updated. Hence, if you prioritize the mobile experience and fast loading times, this approach might not suit you since Notion pages aren’t that performant. Despite that, I hope Notion will launch a native feature for setting up custom domains.</p>
<p><strong><em>*</em>Update from 25.10.2019</strong>*</p>
<p>After sharing the story at the Notion Facebook Group, I received some responses that should be mentioned here as well.</p>
<p>This workaround might only be useful in some cases. It perfectly suited mine, because I wanted a simple portfolio page that I can easily update.</p>
<p>If you plan to use it for something like a blog or anything else where you want to track user behaviour using Google Analytics, I would not recommend using this approach. It is not possible to embed any type of snippet that will work in the background.</p>
<p>— Feel free to ask me any questions, either here on Medium or my twitter <a href="http://twitter.com/TarasPyoneer">@TarasPyoneer</a>.</p>
        </body>
    </html>
    